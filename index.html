<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8XL3C0LK64"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-8XL3C0LK64');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy-First PDF Tools | ローカル完結・安心PDFツール</title>
    <meta name="description" content="サーバーにアップロードしない、完全ローカル完結の安心PDFツール。結合、分割、圧縮、変換をブラウザだけで高速処理。">
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap"
        rel="stylesheet">
    <!-- PDF Libraries -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>
</head>

<body>
    <header class="app-header">
        <div class="container">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
                    <polyline points="14 2 14 8 20 8" />
                    <path d="M12 18v-6" />
                    <path d="M9 15l3 3 3-3" />
                </svg>
                <h1>Privacy-First PDF Tools</h1>
            </div>
            <nav class="main-nav">
                <button class="nav-btn active" data-target="merge">結合 (Merge)</button>
                <button class="nav-btn" data-target="split">分割 (Split)</button>
                <button class="nav-btn" data-target="compress">圧縮 (Compress)</button>
                <button class="nav-btn" data-target="convert">変換 (Convert)</button>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="privacy-badge">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                <path d="M7 11V7a5 5 0 0 1 10 0v4" />
            </svg>
            <span>ファイルはサーバーに送信されません。すべての処理はあなたの端末内で完結します。</span>
        </div>

        <!-- Merge Tool -->
        <section id="merge" class="tool-section active">
            <div class="tool-header">
                <h2>PDF結合</h2>
                <p>複数のPDFファイルを1つにまとめます。</p>
            </div>
            <div class="drop-zone" id="merge-drop-zone">
                <div class="drop-content">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                        <polyline points="17 8 12 3 7 8" />
                        <line x1="12" y1="3" x2="12" y2="15" />
                    </svg>
                    <p>ここにPDFファイルをドロップ<br>またはクリックして選択</p>
                </div>
                <input type="file" id="merge-file-input" multiple accept=".pdf" hidden>
            </div>
            <div id="merge-file-list" class="file-list"></div>
            <div class="action-area">
                <button id="merge-btn" class="primary-btn" disabled>PDFを結合する</button>
            </div>
        </section>

        <!-- Split Tool -->
        <section id="split" class="tool-section">
            <div class="tool-header">
                <h2>PDF分割</h2>
                <p>PDFから特定のページを抽出したり、全ページを分割します。</p>
            </div>
            <div class="drop-zone" id="split-drop-zone">
                <div class="drop-content">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                        <polyline points="17 8 12 3 7 8" />
                        <line x1="12" y1="3" x2="12" y2="15" />
                    </svg>
                    <p>ここにPDFファイルをドロップ<br>またはクリックして選択</p>
                </div>
                <input type="file" id="split-file-input" accept=".pdf" hidden>
            </div>
            <div id="split-preview" class="preview-container"></div>
            <div id="split-options" class="options-area hidden">
                <div class="option-group">
                    <label>分割モード:</label>
                    <select id="split-mode">
                        <option value="all">全ページを分割</option>
                        <option value="range">ページ範囲を指定</option>
                    </select>
                </div>
                <div id="split-range-input" class="option-group hidden">
                    <label>範囲 (例: 1-3, 5):</label>
                    <input type="text" placeholder="1-3, 5">
                </div>
            </div>
            <div class="action-area">
                <button id="split-btn" class="primary-btn" disabled>PDFを分割する</button>
            </div>
        </section>

        <!-- Compress Tool -->
        <section id="compress" class="tool-section">
            <div class="tool-header">
                <h2>PDF圧縮</h2>
                <p>画質を調整してファイルサイズを削減します。</p>
            </div>
            <div class="drop-zone" id="compress-drop-zone">
                <div class="drop-content">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                        <polyline points="17 8 12 3 7 8" />
                        <line x1="12" y1="3" x2="12" y2="15" />
                    </svg>
                    <p>ここにPDFファイルをドロップ<br>またはクリックして選択</p>
                </div>
                <input type="file" id="compress-file-input" accept=".pdf" hidden>
            </div>
            <div id="compress-preview" class="preview-container"></div>
            <div id="compress-options" class="options-area hidden">
                <label>圧縮レベル:</label>
                <select id="compress-level">
                    <option value="0.8">低圧縮 (高画質)</option>
                    <option value="0.5" selected>中圧縮 (バランス)</option>
                    <option value="0.2">高圧縮 (低画質)</option>
                </select>
            </div>
            <div class="action-area">
                <button id="compress-btn" class="primary-btn" disabled>PDFを圧縮する</button>
            </div>
        </section>

        <!-- Convert Tool -->
        <section id="convert" class="tool-section">
            <div class="tool-header">
                <h2>PDF変換</h2>
                <p>画像をPDFに、またはPDFを画像に変換します。</p>
            </div>
            <div class="drop-zone" id="convert-drop-zone">
                <div class="drop-content">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                        <polyline points="17 8 12 3 7 8" />
                        <line x1="12" y1="3" x2="12" y2="15" />
                    </svg>
                    <p>ここにファイル(PDF/JPG/PNG)をドロップ<br>またはクリックして選択</p>
                </div>
                <input type="file" id="convert-file-input" multiple accept=".pdf, .jpg, .jpeg, .png" hidden>
            </div>
            <div class="action-area">
                <button id="convert-btn" class="primary-btn" disabled>変換する</button>
            </div>
        </section>
    </main>

    <footer class="app-footer">
        <div class="container">
            <p>&copy; 2025 Privacy-First PDF Tools. All processing is done locally in your browser.</p>
            <p style="margin-top: 0.5rem;"><a href="terms.html" style="color: inherit;">利用規約</a></p>
        </div>
    </footer>

    <script type="module" src="app.js"></script>
</body>

</html>